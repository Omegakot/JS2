<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css.css">
    <title>Document</title>
</head>
<body>
    <div class="main">
      
        <div class="item">
            <img class="imgmain"  href="img1.jpg" alt="NO PHOTO">
            <h3 id="mainitem">Груша</h3>
           
            <h1>99р</h1>
            <a class="btn"id="btn1"  href="">Купить</a>
            <a  id="btnminus" href="">Уменьшить</a>
        </div>

        <div class="item">
            <img class="imgmain"  src="img2.jpg" alt="NO PHOTO">
            <h3>Яблоко</h3>
            <h3>100р</h3>
            <a class="btn" id="btn2" href="">Купить</a>
            <a  id="btnminus2" href="">Уменьшить</a>
        </div>
        
        <div class="item" id="iter"><h2>Общая сумма:</h2>
            <div id="ite1">0 рублей</div>
            <h2 id="goodsh2">Товары:</h2>
            <h2 id="goodsh3">нет выбранных товаров</h2>
        </div>
        
    </div>
    <script >
//Алгоритм корзины
class Cart {
cart = []
constructor (...items) {
this.cart.push(...items)
}
}

class Product {
name = ''
price = 0
volume=0
constructor (name, price){
this.name = name
this.price = price
this.volume=0
}
}
//Подсчет стоимости
const CartInstance = new Cart(new Product('Груша',99,0), new Product('Яблоко',100,0))


// рендеринг
let body=document.querySelector("body")
let h3= document.querySelectorAll("h3")
let btn1=document.querySelector('#btn1')
let btn2=document.querySelector('#btn2')

let div=document.querySelector("#iter")
let span=div.querySelector("#ite1")
let h2=document.querySelector("#goodsh2")
let span1=document.querySelector('#goodsh3')

let summa=0

btn1.addEventListener("click",function(event){
event.preventDefault()
summa+=CartInstance.cart[0].price
CartInstance.cart[0].volume++
span.innerText=`${summa} рублей`
span.style.color="blue"
div.style.backgroundColor="gray"
div.style.color="white"
h2.style.color="green"
let items=document.createElement("h3")
let span3=document.createElement("span")
span1.innerText=`${CartInstance.cart[0].name} в количестве ${CartInstance.cart[0].volume} шт`
btnminus.style.display="block"
})

btn2.addEventListener("click",function(event){
event.preventDefault()
summa+=CartInstance.cart[1].price
CartInstance.cart[1].volume++
span.innerText=`${summa} рублей`
span.style.color="blue"
div.style.backgroundColor="gray"
div.style.color="white"
h2.style.color="green"
let items=document.createElement("h3")
span1.innerText=`${CartInstance.cart[1].name} в количестве ${CartInstance.cart[1].volume} шт`
btnminus2.style.display="block"
})
  
let btnminus=document.querySelector("#btnminus")
btnminus.addEventListener("click",function(event){
event.preventDefault()
summa-=CartInstance.cart[0].price
CartInstance.cart[0].volume--
span.innerText=`${summa} рублей`
span.style.color="blue"
div.style.backgroundColor="gray"
div.style.color="white"
h2.style.color="green"
let items=document.createElement("h3")

if(summa<=0){
span.innerText=`ваша корзина пуста`
summa=0
btnminus.style.display="none"
}
span1.innerText=`${CartInstance.cart[0].name} в количестве ${CartInstance.cart[0].volume} шт`
if(CartInstance.cart[0].volume<=0){
CartInstance.cart[0].volume=0
btnminus.style.display="none"
span1.innerText=`${CartInstance.cart[1].name} в количестве ${CartInstance.cart[1].volume} шт`   
}}
)

let btnminus2=document.querySelector("#btnminus2")
btnminus2.addEventListener("click",function(event){
event.preventDefault()
summa-=CartInstance.cart[1].price
CartInstance.cart[1].volume--
span.innerText=`${summa} рублей`
span.style.color="blue"
div.style.backgroundColor="gray"
div.style.color="white"
h2.style.color="green"
let items=document.createElement("h3")
if(summa<=0){
span.innerText=`ваша корзина пуста`
summa=0
btnminus2.style.display="none"
}
span1.innerText=`${CartInstance.cart[1].name} в количестве ${CartInstance.cart[1].volume} шт`
if(CartInstance.cart[1].volume<=0){
CartInstance.cart[1].volume=0
btnminus2.style.display="none"
span1.innerText=`${CartInstance.cart[0].name} в количестве ${CartInstance.cart[0].volume} шт` 
}
})


    </script>
</body>
</html>